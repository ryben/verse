{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/VerseDisplay.vue?6458","webpack:///./src/components/VerseTitleAndVersion.vue?a968","webpack:///./src/components/ControlBar.vue?4988","webpack:///./src/App.vue","webpack:///./src/components/CustomBackground.vue","webpack:///./src/utils/utils.js","webpack:///./src/services/BackgroundService.js","webpack:///src/components/CustomBackground.vue","webpack:///./src/components/CustomBackground.vue?6382","webpack:///./src/components/CustomBackground.vue?c54e","webpack:///./src/components/VerseDisplay.vue","webpack:///./src/components/VerseTitleAndVersion.vue","webpack:///./src/mixins/uiMixin.js","webpack:///./src/utils/eventBus.js","webpack:///src/components/VerseTitleAndVersion.vue","webpack:///./src/components/VerseTitleAndVersion.vue?4166","webpack:///./src/components/VerseTitleAndVersion.vue?f2fd","webpack:///src/components/VerseDisplay.vue","webpack:///./src/components/VerseDisplay.vue?68d4","webpack:///./src/components/VerseDisplay.vue?05ce","webpack:///./src/components/ControlBar.vue","webpack:///./src/services/BibleService.js","webpack:///src/components/ControlBar.vue","webpack:///./src/components/ControlBar.vue?80d1","webpack:///./src/components/ControlBar.vue?3986","webpack:///src/App.vue","webpack:///./src/App.vue?03b3","webpack:///./src/App.vue?315a","webpack:///./src/utils/storageManager.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?18c8","webpack:///./src/components/CustomBackground.vue?f84a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","on","$event","rightClickHandler","focusInput","staticRenderFns","utils","isEmpty","someVar","undefined","isNotEmpty","isEmptyObject","obj","keys","constructor","isSubstringOfOther","str1","str2","toLowerCase","substring","cloneObj","cloneObjArray","objArray","map","parseJson","str","JSON","parse","error","BackgroundService","_defineProperty","url","processedUrl","match","getGdriveShareLinkRegex","gdriveLinkToUrl","validateUrl","Promise","resolve","reject","img","Image","onload","onerror","src","gdriveLink","gdriveRegexLink","matchGroups","backgroundService","mounted","computed","mapState","watch","selectedBg","newVal","BG_CUSTOM_URL","applyCustomBg","bgImageCustomUrl","applyStaticBg","isAddTextBg","document","getElementById","style","background","methods","filename","baseUrl","applyBg","body","querySelector","backgroundSize","overflow","$store","dispatch","processUrl","component","handleKeydown","handleCopy","verseDetails","ref","_v","_s","content","staticClass","onClickLeft","onClickRight","onClickTitle","onBlurTitle","type","indexOf","_k","keyCode","onEnterTitle","arguments","handleKeyDown","title","onClickVersion","onBlurVersion","version","isDropdownVisible","onHoverDropdown","onLeaveDropdown","_l","versions","onSelectVersion","_e","uiMixin","makeOtherRefEditable","hoverRef","frameText","addEventListener","isTextEditable","makeEditable","setEditMode","targetRef","isEditMode","focus","makeTextEditable","contentEditable","parentElement","isEditable","setAttribute","$nextTick","range","createRange","selectNodeContents","selection","getSelection","removeAllRanges","addRange","elementRef","cssText","EventBus","Vue","mixins","props","selectedVersion","isSelectingVersion","created","$on","beforeDestroy","$off","$refs","verseTitleContainer","verseTitle","verseVersion","innerText","isSync","versionsDropdown","width","offsetWidth","getComputedStyle","marginLeft","fontFamily","fontSize","parseFloat","fontStyle","event","preventDefault","target","isNextVerse","stopPropagation","components","VerseTitleAndVersion","verseFontSize","adjustVerseFontSize","verseContent","minLength","maxLength","clampedLength","Math","min","max","ratio","vw","vh","maxRem","toFixed","showNextVerse","increaseFontSize","isIncrease","$emit","e","clipboardData","setData","toString","removeEventListener","staticStyle","isControlBarVisible","directives","rawName","verseAddressInput","expression","domProps","onClickGo","onPasteVerseAddress","composing","controlVersion","$$selectedVal","Array","filter","options","selected","val","_value","multiple","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","backgrounds","errorDisplay","versionsFilename","sourceFileExt","bookNamesFilename","versionList","maxBookCount","MAX_VERSE_CHAPTER_INDICATOR","verseAddressRegex","BibleService","bookNames","instance","bible","loadBibleVersions","fetchUrl","bibleVersions","fetch","verseInput","bibleVersionKey","bookInput","bookMatch","findBookMatch","createVerseAddress","book","chapter","verse","getBibleVersion","vIndex","bibleVersion","bookName","findBookMatchInVersion","versionIndex","versionKey","bookMatches","loadBookNames","match1","match2","verseAddress","fetchVerse","verseInfo","getVerseInfo","currentVerseAddress","getDiffVersionVerseAddress","diffVersionVerseAddress","bookContent","chapterContent","Error","getNextVerseAddress","loadVerseParamQuery","URL","location","href","verseParam","searchParams","processVerseInput","resourceUrl","response","axios","console","defaultBg","showCustomUrlInput","state","set","oldVal","display","backgroundColor","borderRadius","padding","isVisible","controls","toggleButton","transition","classList","remove","transform","color","add","pasted","getData","select","isShow","bgImgCustomUrlInput","CustomBackground","VerseDisplay","ControlBar","handleStorageEvent","$once","getters","KEY_VERSE_ADDRESS","KEY_VERSE_FONT_SIZE","KEY_IS_ADD_TEXT_BG","KEY_BG_IMAGE","KEY_BG_IMAGE_CUSTOM_URL","storageManager","saveVerseToLocalStorage","localStorage","setItem","stringify","saveFontSizeToLocalStorage","saveTextBgToLocalStorage","saveBgImageToLocalStorage","bgImage","saveBgImageCustomUrlToLocalStorage","bgCustomUrl","loadState","getItem","use","Vuex","Store","syncVerse","syncVersion","mutations","setVerseDetails","details","setVerseAddress","setVerseFontSize","size","setVersions","setControlVersion","setIsAddTextBg","setSelectedBg","setBgImageCustomUrl","setErrorDisplay","setSyncVerse","setSyncVersion","setIsControlBarVisible","actions","initStore","commit","init","then","parseVerseInput","nextVerseAddress","message","newFontSize","saveBgImageCustomUrl","context","isLoadFromInit","savedState","isVerseAddressValid","isValidVerseAddress","loadBgFromStorage","bgCustomImgUrl","updateErrorDisplay","errorMessage","updateIsControlBarVisible","store","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.705167a9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/verse/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseDisplay.vue?vue&type=style&index=0&id=1797e762&prod&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseTitleAndVersion.vue?vue&type=style&index=0&id=0ac5bd39&prod&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlBar.vue?vue&type=style&index=0&id=347a99d8&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"baseDiv\"},on:{\"contextmenu\":function($event){return _vm.rightClickHandler($event)}}},[_c('CustomBackground'),_c('VerseDisplay',{on:{\"focus-controlbar-input\":_vm.focusInput}}),_c('ControlBar')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"textShade\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const utils = {\n    isEmpty: function (someVar) {\n        if (someVar == \"\" || someVar == null || someVar == undefined || someVar == {}) {\n            return true\n        } else {\n            return false\n        }\n    },\n    isNotEmpty(someVar) {\n        return !this.isEmpty(someVar)\n    },\n    isEmptyObject: function (obj) {\n        return obj == null || Object.keys(obj).length === 0 && obj.constructor === Object\n    },\n    isSubstringOfOther(str1, str2) {\n        str1 = str1.toLowerCase()\n        str2 = str2.toLowerCase()\n\n        return str1.substring(0, str2.length) == str2 || str2.substring(0, str1.length) == str1\n    },\n    cloneObj(obj) {\n        return { ...obj };\n    },\n    cloneObjArray(objArray) {\n        return objArray.map(obj => ({ ...obj }))\n    },\n    parseJson(str) {\n        try {\n            return JSON.parse(str)\n        } catch (error) {\n            return {}\n        }\n    }\n}","\nclass BackgroundService {\n    BG_CUSTOM_URL = \"BG_CUSTOM_URL\"\n    getGdriveShareLinkRegex =\n        \".*drive\\\\.google\\\\.com\\\\/file\\\\/d\\\\/\" // GDrive share link start\n        + \"(.*)\" // book\n        + \"\\\\/.*\" // everything else after\n\n    async processUrl(url) {\n        let processedUrl = url\n\n        if (url.match(this.getGdriveShareLinkRegex)) {\n            processedUrl = this.gdriveLinkToUrl(processedUrl)\n        }\n\n        await this.validateUrl(processedUrl)\n\n        return processedUrl\n    }\n    validateUrl(url) {\n        return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.onerror = reject;\n            img.src = url;\n        });\n    }\n    gdriveLinkToUrl(gdriveLink) {\n        let gdriveRegexLink =\n            \".*drive\\\\.google\\\\.com\\\\/file\\\\/d\\\\/\" // GDrive share link start\n            + \"(.*)\" // book\n            + \"\\\\/.*\" // everything else after\n\n        let matchGroups = gdriveLink.match(gdriveRegexLink)\n        if (matchGroups) {\n            return 'https://drive.google.com/uc?id=' + matchGroups[1]\n        }\n        return ''\n    }\n}\n\nexport const backgroundService = new BackgroundService();\n","<template>\n    <div id=\"textShade\">\n\n    </div>\n</template>\n\n<script>\n\n\nimport { mapState } from 'vuex'\nimport { utils } from '@/utils/utils.js'\nimport { backgroundService } from '@/services/BackgroundService.js'\n\n\nexport default {\n\n    data: function () {\n        return {\n        }\n    },\n\n    mounted: function () {\n    },\n\n    computed: {\n        ...mapState(['isAddTextBg', 'selectedBg', 'bgImageCustomUrl']),\n    },\n    watch: {\n        selectedBg: function (newVal) {\n            if (newVal == backgroundService.BG_CUSTOM_URL) {\n                this.applyCustomBg(this.bgImageCustomUrl)\n            } else {\n                this.applyStaticBg(newVal)\n            }\n        },\n        isAddTextBg: function () {\n            if (this.isAddTextBg == false) {\n                document.getElementById('textShade').style.background = ''\n            } else {\n                document.getElementById('textShade').style.background = '#00000099'\n            }\n        },\n        bgImageCustomUrl: function (newVal) {\n            if (this.selectedBg == backgroundService.BG_CUSTOM_URL) {\n                this.applyCustomBg(newVal)\n            }\n        }\n    },\n\n    methods: {\n        applyStaticBg(filename) {\n            let baseUrl = `${process.env.BASE_URL}backgrounds`\n\n            let url = baseUrl + `/${filename}`\n            this.applyBg(url)\n        },\n        applyBg(url) {\n            const body = document.querySelector('body')\n            body.style.background = 'url(\\'' + url + '\\')'\n            body.style.backgroundSize = '100% 100%'\n            body.style.overflow = 'hidden'\n\n            this.$store.dispatch('updateErrorDisplay', \"\") // clear error message\n\n            if (this.selectedBg == backgroundService.BG_CUSTOM_URL) {\n                this.$store.dispatch('saveBgImageCustomUrl', url)\n            }\n        },\n        async applyCustomBg(url) {\n            if (utils.isNotEmpty(url)) {\n                try {\n                    let processedUrl = await backgroundService.processUrl(url)\n                    this.applyBg(processedUrl)\n                } catch (error) {\n                    this.$store.dispatch('updateErrorDisplay', \"Invalid Background URL\")\n                }\n            }\n        }\n    },\n\n}\n</script>\n\n<style>\n#textShade {\n    position: absolute;\n    border-radius: clamp(0.1rem, 2vw + 3vh, 4rem);\n    top: clamp(0.1rem, 1vw + 2vh, 2rem);\n    left: clamp(0.1rem, 1vw + 2vh, 2rem);\n    right: clamp(0.1rem, 1vw + 2vh, 2rem);\n    bottom: clamp(0.1rem, 5vw + 7vh, 5rem);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBackground.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBackground.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CustomBackground.vue?vue&type=template&id=4da58926\"\nimport script from \"./CustomBackground.vue?vue&type=script&lang=js\"\nexport * from \"./CustomBackground.vue?vue&type=script&lang=js\"\nimport style0 from \"./CustomBackground.vue?vue&type=style&index=0&id=4da58926&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"verseContainer\",\"tabindex\":\"0\"},on:{\"keydown\":_vm.handleKeydown,\"copy\":_vm.handleCopy}},[_c('div',{attrs:{\"id\":\"verseTitleTranslationContainer\"}},[_c('VerseTitleAndVersion',{attrs:{\"verse-details\":_vm.verseDetails}})],1),_c('div',{ref:\"verseContent\",attrs:{\"id\":\"verseContent\"}},[_vm._v(\" \"+_vm._s(_vm.verseDetails.content)+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"verseTitleTranslationContainer\"}},[_c('span',{ref:\"verseTitleContainer\",staticClass:\"verse-container\"},[_c('span',{staticClass:\"arrow left unselectable\",on:{\"click\":function($event){return _vm.onClickLeft()}}},[_vm._v(\"◄\")]),_c('span',{staticClass:\"arrow right unselectable\",on:{\"click\":function($event){return _vm.onClickRight()}}},[_vm._v(\"►\")]),_c('span',{ref:\"verseTitle\",attrs:{\"id\":\"verseTitle\"},on:{\"click\":_vm.onClickTitle,\"blur\":_vm.onBlurTitle,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onEnterTitle.apply(null, arguments)},_vm.handleKeyDown]}},[_vm._v(\" \"+_vm._s(_vm.verseDetails.title)+\" \")])]),_c('div'),_c('span',{ref:\"verseVersion\",attrs:{\"id\":\"verseVersion\"},on:{\"click\":_vm.onClickVersion,\"blur\":_vm.onBlurVersion,\"keydown\":_vm.handleKeyDown}},[_vm._v(\" \"+_vm._s(_vm.verseDetails.version)+\" \")]),(_vm.isDropdownVisible)?_c('div',{ref:\"versionsDropdown\",staticClass:\"dropdown-menu\",attrs:{\"id\":\"versionsDropdown\"},on:{\"mouseenter\":_vm.onHoverDropdown,\"mouseleave\":_vm.onLeaveDropdown}},[_c('ul',_vm._l((_vm.versions),function(version){return _c('li',{key:version.key,attrs:{\"value\":version.key},on:{\"click\":function($event){return _vm.onSelectVersion(version)}}},[_vm._v(\" \"+_vm._s(version.name)+\" \")])}),0)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const uiMixin = {\n    methods: {\n        makeOtherRefEditable(hoverRef, ref) {\n            this.frameText(ref, false)\n            hoverRef.addEventListener('mouseover', () => {\n                this.frameText(ref)\n            })\n            hoverRef.addEventListener('mouseout', () => {\n                if (!this.isTextEditable(ref)) {\n                    this.frameText(ref, false)\n                }\n            })\n        },\n        makeEditable(ref) {\n            this.frameText(ref, false)\n            ref.addEventListener('mouseover', () => {\n                this.frameText(ref)\n            })\n            ref.addEventListener('mouseout', () => {\n                if (!this.isTextEditable(ref)) {\n                    this.frameText(ref, false)\n                }\n            })\n        },\n        setEditMode(targetRef, isEditMode) {\n            if (isEditMode) {\n                targetRef.focus(); // Optional: focus the element for immediate editing\n\n                if (!this.isTextEditable(targetRef)) {\n                    this.makeTextEditable(targetRef)\n                }\n            } else {\n                this.frameText(targetRef, false)\n                this.makeTextEditable(targetRef, false)\n            }\n        },\n        isTextEditable(ref) {\n            while (ref) {\n                if (ref.contentEditable === \"true\") {\n                    return true\n                } else if (ref.contentEditable === \"false\") {\n                    return false\n                }\n                ref = ref.parentElement\n            }\n            // Returns false if none of the parents explicitly set contentEditable to true\n            return false;\n        },\n        makeTextEditable(ref, isEditable = true) {\n            if (isEditable) {\n                ref.setAttribute('contenteditable', 'true');\n\n                // Wait for the next tick to ensure the content is editable and focused\n                this.$nextTick(() => {\n                    const range = document.createRange();\n                    range.selectNodeContents(ref);\n\n                    const selection = window.getSelection();\n                    selection.removeAllRanges(); // Clear any existing selections\n                    selection.addRange(range); // Select all text within the element\n                });\n\n                this.frameText(ref)\n            } else {\n                ref.setAttribute('contenteditable', 'false');\n            }\n\n        },\n        frameText(elementRef, isEditable = true) {\n            if (isEditable) {\n                elementRef.style.cssText = `\n                outline: 2px solid rgba(255, 255, 255, 0.7);\n                outline-offset: 3px 6px;\n                border-radius: 10px;\n                background-color: rgba(0, 0, 0, 0.3);\n                padding: 5px 10px;\n                margin: clamp(0.1rem, 0.3vw + 0.6vh, 0.4rem) -10px;\n              `\n            } else {\n                elementRef.style.cssText = ''\n            }\n        },\n    }\n}","import Vue from 'vue';\nexport const EventBus = new Vue();\n","<template>\n  <div id=\"verseTitleTranslationContainer\">\n    <span class=\"verse-container\" ref=\"verseTitleContainer\">\n      <span class=\"arrow left unselectable\" v-on:click=\"onClickLeft()\">◄</span>\n      <span class=\"arrow right unselectable\" v-on:click=\"onClickRight()\">►</span>\n      <span id=\"verseTitle\" ref=\"verseTitle\" v-on:click=\"onClickTitle\" @blur=\"onBlurTitle\" @keydown.enter=\"onEnterTitle\"\n        @keydown=\"handleKeyDown\">\n        {{ verseDetails.title }}\n      </span>\n    </span>\n    <div></div>\n    <span id=\"verseVersion\" ref=\"verseVersion\" v-on:click=\"onClickVersion\" @blur=\"onBlurVersion\"\n      @keydown=\"handleKeyDown\">\n      {{ verseDetails.version }}\n    </span>\n    <div id=\"versionsDropdown\" ref=\"versionsDropdown\" v-if=\"isDropdownVisible\" class=\"dropdown-menu\"\n      @mouseenter=\"onHoverDropdown\" @mouseleave=\"onLeaveDropdown\">\n      <ul>\n        <li v-for=\"version in versions\" :value=\"version.key\" :key=\"version.key\" @click=\"onSelectVersion(version)\">\n          {{ version.name }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { mapState } from 'vuex';\nimport { uiMixin } from \"@/mixins/uiMixin.js\"\nimport { EventBus } from '@/utils/eventBus.js';\n\nexport default {\n  name: 'VerseTitleAndVersion',\n  mixins: [uiMixin],\n  props: ['verseDetails'],\n  data: function () {\n    return {\n      selectedVersion: \"\",\n      isSelectingVersion: false,\n      isDropdownVisible: false,\n    }\n  },\n  created() {\n    EventBus.$on('edit-verse-title', this.onClickTitle);\n  },\n  beforeDestroy() {\n    EventBus.$off('edit-verse-title', this.onClickTitle);\n  },\n  mounted() {\n    this.makeOtherRefEditable(this.$refs.verseTitleContainer, this.$refs.verseTitle)\n    this.makeEditable(this.$refs.verseVersion)\n  },\n  computed: {\n    ...mapState(['versions']),\n  },\n  watch: {\n    verseDetails(value) {\n      this.$refs.verseTitle.innerText = value.title\n      this.$refs.verseVersion.innerText = value.version\n    }\n  },\n  methods: {\n    onHoverDropdown() {\n      this.isSelectingVersion = true\n    },\n    onLeaveDropdown() {\n      this.isSelectingVersion = false\n    },\n    onSelectVersion(version) {\n      this.isDropdownVisible = false;\n      this.isSelectingVersion = false\n\n      this.$store.dispatch('versionChanged', { version: version.key, isSync: false })\n    },\n    onClickTitle() {\n      this.setEditMode(this.$refs.verseTitle, true)\n    },\n    onClickVersion() {\n      let verseVersion = this.$refs.verseVersion\n      verseVersion.setAttribute('tabindex', 0) // make sure it's focusable\n      verseVersion.focus()\n      this.isDropdownVisible = true\n\n      this.$nextTick(() => {\n        // Style the custom dropdown\n        const verseVersion = this.$refs.verseVersion;\n        const versionsDropdown = this.$refs.versionsDropdown;\n\n        if (verseVersion && versionsDropdown) {\n          const width = verseVersion.offsetWidth;\n          const style = window.getComputedStyle(verseVersion);\n          const marginLeft = style.marginLeft;\n          const fontFamily = style.fontFamily;\n          let fontSize = parseFloat(style.fontSize);\n          fontSize = fontSize * 0.85; // Adjust the scaling factor as needed\n\n          versionsDropdown.style.width = `${width}px`;\n          versionsDropdown.style.marginLeft = marginLeft;\n          versionsDropdown.style.fontSize = `${fontSize}px`; // Apply adjusted fontSize\n          versionsDropdown.style.fontFamily = fontFamily; // Apply fontFamily\n          versionsDropdown.style.fontStyle = \"normal\";\n        }\n      });\n    },\n    onBlurTitle() {\n      this.setEditMode(this.$refs.verseTitle, false)\n      this.$refs.verseTitle.innerText = this.verseDetails.title\n    },\n    onBlurVersion() {\n      this.setEditMode(this.$refs.verseVersion, false)\n      if (!this.isSelectingVersion) {\n        // prevent hiding the dropdown before it gets clicked\n        this.isDropdownVisible = false\n      }\n      this.$refs.verseVersion.innerText = this.verseDetails.version\n    },\n    onEnterTitle(event) {\n      event.preventDefault()\n      this.$store.dispatch('verseEnteredNoVersion', event.target.innerText)\n      this.setEditMode(this.$refs.verseTitle, false)\n    },\n    onClickLeft() {\n      this.$store.dispatch('showNextVerse', { isNextVerse: false, isSync: false })\n    },\n    onClickRight() {\n      this.$store.dispatch('showNextVerse', { isNextVerse: true, isSync: false })\n    },\n    handleKeyDown(event) {\n      switch (event.key) {\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'ArrowUp':\n        case 'ArrowDown':\n          event.stopPropagation()\n          break\n      }\n    }\n  }\n}\n\n</script>\n\n\n<style>\n#verseTitleTranslationContainer {\n  position: relative;\n  white-space: nowrap;\n}\n\n#verseTitle {\n  color: white;\n  text-transform: uppercase;\n  font-size: clamp(0.1rem, 2.3vw + 2.3vh, 3.6rem);\n}\n\n\n\n.verse-container {\n  position: relative;\n  display: inline-block;\n  /* Or 'block' depending on your layout */\n}\n\n.arrow {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  opacity: 0;\n  transition: opacity 0.2s;\n  color: rgba(255, 255, 255, 0.4);\n  font-size: clamp(0.8rem, 0.7vw + 2.0vh, 1.5rem);\n  border-radius: 15px;\n  padding: 12px 16px;\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n.arrow:active {\n  background-color: rgba(0, 0, 0, 0.5);\n  /* Darker background on click */\n}\n\n.verse-container:hover .arrow {\n  opacity: 1;\n}\n\n.left {\n  left: 0;\n  /* Aligns to the left edge of the container's padding */\n  transform: translateX(-130%) translateY(-50%);\n  /* Moves it fully outside and centers vertically */\n\n}\n\n.right {\n  right: 0;\n  /* Aligns to the right edge of the container's padding */\n  transform: translateX(130%) translateY(-50%);\n  /* Moves it fully outside and centers vertically */\n\n}\n\n.unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n#verseVersion {\n  color: yellow;\n  display: inline-block;\n  font-style: oblique;\n  text-transform: uppercase;\n  margin-bottom: 10px;\n  margin-top: clamp(0.2rem, 0.6vw + 1.2vh, 0.8rem);\n  font-size: clamp(0.1rem, 1.8vw + 1.8vh, 2.7rem);\n  cursor: pointer;\n}\n\n#versionsDropdown {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  z-index: 1000;\n}\n\n#versionsDropdown ul {\n  list-style: none;\n  padding: 12px;\n  margin: 0;\n  background: #f0f0f0;\n  box-shadow: 0 2px 4px rgba(56, 56, 56, 0.1);\n  border-radius: 16px;\n  background-color: rgb(240, 240, 240);\n  color: black;\n}\n\n#versionsDropdown li {\n  padding: 8px 12px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n#versionsDropdown li:hover {\n  background-color: #e0e0e0;\n  color: rgb(32, 32, 32);\n}\n\n#versionsDropdown li:active {\n  background-color: #d0d0d0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseTitleAndVersion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseTitleAndVersion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VerseTitleAndVersion.vue?vue&type=template&id=0ac5bd39\"\nimport script from \"./VerseTitleAndVersion.vue?vue&type=script&lang=js\"\nexport * from \"./VerseTitleAndVersion.vue?vue&type=script&lang=js\"\nimport style0 from \"./VerseTitleAndVersion.vue?vue&type=style&index=0&id=0ac5bd39&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"verseContainer\" tabindex=\"0\" @keydown=\"handleKeydown\" v-on:copy=\"handleCopy\">\n    <div id=\"verseTitleTranslationContainer\">\n      <VerseTitleAndVersion :verse-details=\"verseDetails\" />\n    </div>\n    <div id=\"verseContent\" ref=\"verseContent\">\n      {{ verseDetails.content }}\n    </div>\n  </div>\n</template>\n\n\n<script>\n\nimport VerseTitleAndVersion from '@/components/VerseTitleAndVersion.vue'\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'VerseDisplay',\n  props: [],\n  components: { VerseTitleAndVersion },\n  data: function () {\n    return {\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const content = document.getElementById('verseContainer')\n      content.addEventListener('copy', this.handleCopy)\n    })\n  },\n  computed: {\n    ...mapState(['verseDetails', 'verseFontSize']),\n  },\n  watch: {\n    verseFontSize() {\n      this.adjustVerseFontSize()\n    },\n    verseDetails() {\n      this.adjustVerseFontSize()\n    }\n  },\n  methods: {\n    adjustVerseFontSize() {\n      let verseContent = this.$refs.verseContent\n      const length = this.verseDetails.content.length;\n\n      const minLength = 200, maxLength = 400;\n      const clampedLength = Math.min(Math.max(length, minLength), maxLength);\n      let ratio = (clampedLength - minLength) / (maxLength - minLength);\n\n      // Linearly interpolate values based on the ratio\n      const vw = 2 - 0.5 * ratio + this.verseFontSize; // Range from 2 to 1.5\n      const vh = 4 - 1.5 * ratio + this.verseFontSize; // Range from 4 to 2.5\n      const maxRem = 5 + 1 * ratio + this.verseFontSize; // Range from 5 to 6\n\n      verseContent.style.cssText = `\n      font-size: clamp(0.1rem, ${vw.toFixed(2)}vw + ${vh.toFixed(2)}vh, ${maxRem.toFixed(1)}rem);\n      `;\n    },\n    showNextVerse: function (isNextVerse) {\n      this.$store.dispatch('showNextVerse', { isNextVerse: isNextVerse })\n    },\n    increaseFontSize(isIncrease) {\n      this.$store.dispatch('increaseFontSize', isIncrease)\n    },\n    focusInput() {\n      this.$emit('focus-controlbar-input')\n    },\n    handleCopy(e) {\n      e.preventDefault(); // Prevent the default copy behavior\n      const selection = document.getSelection();\n      if (selection) {\n        e.clipboardData.setData('text/plain', selection.toString()); // Copy only the text part\n      }\n    },\n    handleKeydown(event) {\n      switch (event.key) {\n        case 'ArrowLeft':\n        case 'PageUp':\n          this.showNextVerse(false);\n          break;\n        case 'ArrowRight':\n        case 'PageDown':\n          this.showNextVerse(true);\n          break;\n        case 'Escape':\n          this.focusInput();\n          break;\n        case 'ArrowDown':\n          this.increaseFontSize(false);\n          break;\n        case 'ArrowUp':\n          this.increaseFontSize(true);\n          break;\n      }\n    },\n    beforeDestroy() {\n      const content = document.getElementById('verseContainer');\n      if (content) {\n        content.removeEventListener('copy', this.handleCopy);\n      }\n    }\n  }\n}\n\n</script>\n\n\n<style>\n#verseContainer {\n  border-radius: 80px;\n  font-family: Arial, Helvetica, sans-serif;\n  height: 77%;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  right: 10px;\n  outline: none;\n\n  padding-top: clamp(0.1rem, 2vw + 5vh, 6rem);\n  padding-left: clamp(0.1rem, 6vw + 2vh, 7rem);\n  padding-right: clamp(0.1rem, 5vw, 20rem);\n}\n\n#verseContent {\n  color: white;\n  text-align: center;\n  margin-top: clamp(0.1rem, 1vw + 1vh, 2rem);\n}\n\n@media screen and (max-height: 280px) and (min-width: 700px) {\n  #verseTitleTranslationContainer {\n    margin-top: clamp(0.1rem, 2vw + 3vh, 1rem);\n    margin-left: clamp(0.1rem, 0.5vw + 1vh, 0.2rem);\n  }\n\n  #verseContainer {\n    padding-top: clamp(0.1rem, 1vw + 2vh, 2rem);\n    padding-left: clamp(0.1rem, 3vw + 2vh, 3rem);\n    padding-right: clamp(0.1rem, 5vw, 3rem);\n    display: flex;\n  }\n\n  #verseContent {\n    margin-top: clamp(0.1rem, 1vw + 3vh, 10rem);\n    font-size: clamp(0.5rem, 1.5vw + 3.5vh, 6rem);\n    margin-left: clamp(0.1rem, 1vw + 3vh, 10rem);\n    margin-right: 5px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerseDisplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VerseDisplay.vue?vue&type=template&id=1797e762\"\nimport script from \"./VerseDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./VerseDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./VerseDisplay.vue?vue&type=style&index=0&id=1797e762&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"flex-end\",\"justify-content\":\"flex-start\"},attrs:{\"id\":\"controlBar\"}},[_c('button',{attrs:{\"id\":\"controlsToggle\"},on:{\"click\":function($event){_vm.isControlBarVisible = !_vm.isControlBarVisible}}},[_vm._v(\" » \")]),_c('div',{attrs:{\"id\":\"controls\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verseAddressInput),expression:\"verseAddressInput\"}],ref:\"verseInput\",attrs:{\"id\":\"verseInput\"},domProps:{\"value\":(_vm.verseAddressInput)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onClickGo.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"]))return null;return _vm.showNextVerse(false)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"]))return null;return _vm.showNextVerse(true)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"page-up\",undefined,$event.key,undefined))return null;return _vm.showNextVerse(false)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"page-down\",undefined,$event.key,undefined))return null;return _vm.showNextVerse(true)}],\"paste\":_vm.onPasteVerseAddress,\"input\":function($event){if($event.target.composing)return;_vm.verseAddressInput=$event.target.value}}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.controlVersion),expression:\"controlVersion\"}],staticClass:\"selector\",attrs:{\"name\":\"translation\",\"id\":\"translationInput\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.controlVersion=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.versions),function(version){return _c('option',{key:version.key,domProps:{\"value\":version.key}},[_vm._v(_vm._s(version.name))])}),0),_c('a',{staticClass:\"button\",staticStyle:{\"margin-right\":\"15px\",\"width\":\"40px\"},on:{\"click\":_vm.onClickGo}},[_vm._v(\"Go\")]),_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.showNextVerse(false)}}},[_vm._v(\"< Prev\")]),_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.showNextVerse(true)}}},[_vm._v(\"Next >\")])]),_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.increaseFontSize(false)}}},[_vm._v(\"−\")]),_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.increaseFontSize(true)}}},[_vm._v(\"+\")])]),_c('label',{staticClass:\"toggle\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAddTextBg),expression:\"isAddTextBg\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAddTextBg)?_vm._i(_vm.isAddTextBg,null)>-1:(_vm.isAddTextBg)},on:{\"change\":function($event){var $$a=_vm.isAddTextBg,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAddTextBg=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAddTextBg=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAddTextBg=$$c}}}}),_c('span',{staticClass:\"labels\",attrs:{\"data-on\":\"With Shade\",\"data-off\":\"No Shade\"}})]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedBg),expression:\"selectedBg\"}],staticClass:\"selector\",attrs:{\"id\":\"bgSelector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedBg=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.backgrounds),function(value,key){return _c('option',{key:key,domProps:{\"value\":value}},[_vm._v(_vm._s(key))])}),0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bgImageCustomUrl),expression:\"bgImageCustomUrl\"}],attrs:{\"id\":\"bgImgCustomUrlInput\"},domProps:{\"value\":(_vm.bgImageCustomUrl)},on:{\"input\":function($event){if($event.target.composing)return;_vm.bgImageCustomUrl=$event.target.value}}}),_c('span',{attrs:{\"id\":\"errorDisplay\"}},[_vm._v(\" \"+_vm._s(_vm.errorDisplay)+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport { utils } from '@/utils/utils.js'\n\nconst baseUrl = `${process.env.BASE_URL}verses`\nconst versionsFilename = 'versions.json'\nconst sourceFileExt = '.json'\nconst bookNamesFilename = 'books.json'\n\nconst versions = 'versions'\nconst versionList = 'versionList'\n\nconst maxBookCount = 66\nconst MAX_VERSE_CHAPTER_INDICATOR = -1\n\nconst verseAddressRegex =\n    (\"(?:([iI]{1,3}|\\\\d+)\\\\s+)?\" // number before book\n        + \"([a-zA-Z]+(?: [a-zA-Z]+)*)\" // book\n        + \"\\\\s+\"      // space after book\n        + \"(\\\\d+)\"  // chapter\n        + \"(?:\\\\.|:|\\\\s+)\" // chapter-verse separator\n        + \"(\\\\d+)\") // verse\n\n\nclass BibleService {\n    static instance = null\n\n    currentVerseAddress = {}\n    defaultBibleVersionKey = 'adb'\n\n    bible = { // here's a sample data for reference\n        versionList: [],\n        versions: [\n            {\n                name: 'Ang Dating Biblia',\n                key: 'adb',\n                bookNames: ['Genesis', 'Exodo'],\n                content: {\n                    '1': { // Book\n                        '1': { // Chapter\n                            '1': 'Nang pasimula' // Verse\n                        }\n                    }\n                }\n            }\n        ],\n    }\n\n    constructor() {\n        if (!BibleService.instance) {\n            BibleService.instance = this\n        }\n        this.bible = {}\n        return BibleService.instance\n    }\n\n    async init() {\n        this.bible[versionList] = await this.loadBibleVersions()\n    }\n\n    async loadBibleVersions() {\n        let fetchUrl = `${baseUrl}/${versionsFilename}`\n        let bibleVersions = await this.fetch(fetchUrl)\n\n        if (utils.isEmptyObject(this.bible)) {\n            this.bible[versions] = utils.cloneObjArray(bibleVersions)\n        }\n\n        return bibleVersions\n    }\n\n    async parseVerseInput(verseInput, bibleVersionKey) {\n        let matchGroups = verseInput.match(verseAddressRegex)\n\n        if (!matchGroups) {\n            throw 'Invalid input'\n        }\n\n        let bookInput = matchGroups[2]\n\n        // special shorthand\n        if (bookInput.toLowerCase() == 'jn') {\n            bookInput = \"juan\"\n        }\n\n        if (matchGroups[1]) { // Number before book e.g. the \"2\" in \"2 Hari\"\n            bookInput = matchGroups[1] + ' ' + bookInput\n        }\n\n        let bookMatch = await this.findBookMatch(bookInput, bibleVersionKey)\n\n        return this.createVerseAddress(\n            bibleVersionKey,\n            bookMatch,\n            matchGroups[3] + '',\n            matchGroups[4] + ''\n        )\n    }\n    createVerseAddress(version, book, chapter, verse) {\n        return {\n            'version': version,\n            'book': book,\n            'chapter': chapter,\n            'verse': verse\n        }\n    }\n    getBibleVersion(bibleVersionKey) {\n        for (const vIndex in this.bible.versions) {\n            let version = this.bible.versions[vIndex]\n\n            if (version.key == bibleVersionKey) {\n                return version\n            }\n        }\n        return {}\n    }\n    async loadBookNames(bibleVersion) {\n        if (utils.isEmpty(bibleVersion.bookNames)) {\n            // Fetch book names for requested bible version\n            let fetchUrl = `${baseUrl}/${bibleVersion.key}/${bookNamesFilename}`\n            bibleVersion.bookNames = await this.fetch(fetchUrl)\n        }\n    }\n    async findBookMatch(bookName, bibleVersionKey) {\n        try {\n            return await this.findBookMatchInVersion(bookName, bibleVersionKey)\n        } catch (error) {\n            // Find book in all other versions\n            for (let versionIndex in this.bible.versions) {\n                try {\n                    let versionKey = this.bible.versions[versionIndex].key\n                    if (bibleVersionKey != versionKey) { // Skip the version that's tried first already\n                        return await this.findBookMatchInVersion(bookName, versionKey)\n                    }\n                } catch {\n                    // do nothing\n                }\n            }\n            throw `Book not found: ${bookName}` // TODO: Add hint for possible matches, or apply if has match close enough\n\n        }\n    }\n    async findBookMatchInVersion(bookName, bibleVersionKey) {\n        let bookMatches = []\n\n        let bibleVersion = this.getBibleVersion(bibleVersionKey)\n        await this.loadBookNames(bibleVersion)\n\n        for (let i = 0; i < bibleVersion.bookNames.length; i++) {\n            if (bibleVersion.bookNames[i].substring(0, bookName.length).toLowerCase() == bookName.toLowerCase()) {\n                bookMatches.push(i)\n            }\n        }\n\n        if (bookMatches.length == 1) {\n            return bookMatches[0] + 1 // offset of 1 since book number starts with 1\n        } else if (bookMatches.length == 2) {\n            let match1 = bibleVersion.bookNames[bookMatches[0]]\n            let match2 = bibleVersion.bookNames[bookMatches[1]]\n            if (utils.isSubstringOfOther(match1, match2)) {\n                return 1 + (match1.length < match2.length ? bookMatches[0] : bookMatches[1])\n            } else {\n                return bookMatches[0] + 1 // return the first match\n            }\n        } else if (bookMatches.length > 2) {\n            return bookMatches[0] + 1 // return the first match\n        } else {\n            throw 'Book not found'\n        }\n    }\n    async isValidVerseAddress(verseAddress) {\n        if (utils.isEmptyObject(verseAddress)) {\n            return false\n        }\n        try {\n            await this.fetchVerse(verseAddress)\n            return true\n        } catch (error) {\n            return false\n        }\n    }\n    async fetchVerse(verseAddress) {\n        let bibleVersion = this.getBibleVersion(verseAddress.version)\n\n        // If bible version is not initialized yet\n        if (utils.isEmpty(bibleVersion.content)) {\n            bibleVersion.content = {}\n        }\n\n        // Make sure booknames are loaded\n        await this.loadBookNames(bibleVersion)\n\n        // If book is not loaded yet\n        if (utils.isEmpty(bibleVersion.content[verseAddress.book])) {\n            // load and cache the fetched book content\n            let fetchUrl = `${baseUrl}/${bibleVersion.key}/${verseAddress.book}${sourceFileExt}`\n            bibleVersion.content[verseAddress.book] = await this.fetch(fetchUrl)\n        }\n\n        // fetch and Return verse info\n        let verseInfo = this.getVerseInfo(verseAddress)\n        this.currentVerseAddress = verseAddress // take note of the validated verse address\n\n        return verseInfo\n    }\n    getDiffVersionVerseAddress(bibleVersionKey) {\n        let diffVersionVerseAddress = this.currentVerseAddress\n        diffVersionVerseAddress.version = bibleVersionKey\n\n        return diffVersionVerseAddress\n    }\n    getVerseInfo(verseAddress) {\n        let bibleVersion = this.getBibleVersion(verseAddress.version)\n        let bookContent = bibleVersion.content[verseAddress.book]\n\n\n        // MAX_VERSE_CHAPTER_INDICATOR is set as value of chapter/verse when next/previous button is tapped and bounds are reached\n        if (verseAddress.chapter == MAX_VERSE_CHAPTER_INDICATOR) {\n            verseAddress.chapter = Object.keys(bookContent).length\n        }\n\n        let chapterContent = bookContent[verseAddress.chapter]\n        if (utils.isEmpty(chapterContent)) {\n            throw new Error('Chapter not found: ' + verseAddress.chapter)\n        }\n\n        if (verseAddress.verse == MAX_VERSE_CHAPTER_INDICATOR) {\n            verseAddress.verse = Object.keys(chapterContent).length\n        }\n\n\n        let verseContent = chapterContent[verseAddress.verse]\n        if (utils.isEmpty(verseContent)) {\n            throw new Error('Verse not found: ' + verseAddress.verse)\n        }\n\n        // verse address is validated\n        let verseInfo = {\n            'title': bibleVersion.bookNames[verseAddress.book - 1] + ' ' + verseAddress.chapter + ':' + verseAddress.verse,\n            'content': verseContent,\n            'version': bibleVersion.name\n        }\n        return verseInfo\n    }\n    getNextVerseAddress(isNextVerse) {\n        let version = this.currentVerseAddress.version\n        let book = this.currentVerseAddress.book\n        let chapter = this.currentVerseAddress.chapter\n        let verse = this.currentVerseAddress.verse\n\n        if (isNextVerse) {\n            verse++\n        } else {\n            verse--\n        }\n\n        let bibleVersion = this.getBibleVersion(version)\n\n        // if reached the end of the chapter\n        if (verse > Object.keys(bibleVersion.content[book][chapter]).length) {\n            chapter++\n            verse = 1\n        } else if (verse < 1) { // if at start of chapter\n            chapter--\n            verse = MAX_VERSE_CHAPTER_INDICATOR\n        }\n\n        // if reached the end of the book\n        if (chapter > Object.keys(bibleVersion.content[book]).length) {\n            book++\n            chapter = 1\n        } else if (chapter < 1) {\n            book--\n            chapter = MAX_VERSE_CHAPTER_INDICATOR\n        }\n\n        // if reached end of the bible\n        if (book > maxBookCount) {\n            book = 1\n        } else if (book < 1) {\n            book = maxBookCount\n        }\n\n        return this.createVerseAddress(\n            version,\n            book,\n            chapter,\n            verse\n        )\n    }\n\n    loadVerseParamQuery() {\n        var url = new URL(window.location.href);\n        let verseParam = url.searchParams.get('v')\n        if (verseParam) {\n            this.verseAddressInput = verseParam\n        }\n\n        this.processVerseInput(this.verseAddressInput)\n        this.focusInput()\n    }\n\n    async fetch(resourceUrl) {\n        try {\n            const response = await axios.get(resourceUrl);\n            return response.data;\n        } catch (error) {\n            console.error('There was an error fetching a resource:', error);\n            throw new Error(\"An error occurred\")\n        }\n    }\n\n    increaseFontSize(isIncrease) {\n        this.verseFontSize += (3 * (isIncrease ? 1 : -1))\n    }\n}\n\nexport default new BibleService()","<template>\n    <div id=\"controlBar\" style=\"display: flex; align-items: flex-end; justify-content: flex-start;\">\n        <button id=\"controlsToggle\" @click=\"isControlBarVisible = !isControlBarVisible\">\n            »\n        </button>\n        <div id=\"controls\">\n            <input v-model=\"verseAddressInput\" v-on:keyup.enter=\"onClickGo\" v-on:keyup.up=\"showNextVerse(false)\"\n                v-on:keyup.down=\"showNextVerse(true)\" v-on:keyup.page-up=\"showNextVerse(false)\"\n                v-on:keyup.page-down=\"showNextVerse(true)\" id=\"verseInput\" ref=\"verseInput\"\n                @paste=\"onPasteVerseAddress\" />\n            <select name=\"translation\" id=\"translationInput\" class=\"selector\" v-model=\"controlVersion\">\n                <option v-for=\"version in versions\" :value=\"version.key\" :key=\"version.key\">{{ version.name }}</option>\n            </select>\n            <a class=\"button\" style=\"margin-right: 15px; width: 40px;\" @click=\"onClickGo\">Go</a>\n            <span style=\"margin-right: 15px;\">\n                <a class=\"button\" @click=\"showNextVerse(false)\">&lt; Prev</a>\n                <a class=\"button\" @click=\"showNextVerse(true)\">Next &gt;</a>\n            </span>\n            <span style=\"margin-right: 15px;\">\n                <a class=\"button\" @click=\"increaseFontSize(false)\">−</a>\n                <a class=\"button\" @click=\"increaseFontSize(true)\">+</a>\n            </span>\n            <label class=\"toggle\">\n                <input type=\"checkbox\" v-model=\"isAddTextBg\">\n                <span class=\"labels\" data-on=\"With Shade\" data-off=\"No Shade\"></span>\n            </label>\n            <select id=\"bgSelector\" class=\"selector\" v-model=\"selectedBg\">\n                <option v-for=\"(value, key) in backgrounds\" :value=\"value\" v-bind:key=\"key\">{{ key }}</option>\n            </select>\n            <input id=\"bgImgCustomUrlInput\" v-model=\"bgImageCustomUrl\" />\n            <span id=\"errorDisplay\">\n                {{ errorDisplay }}\n            </span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport BibleService from '@/services/BibleService.js'\nimport { EventBus } from '@/utils/eventBus.js';\nimport { mapState } from 'vuex';\nimport { utils } from '@/utils/utils.js'\nimport { backgroundService } from '../services/BackgroundService';\n\nconst BG_CUSTOM_URL = backgroundService.BG_CUSTOM_URL\nconst defaultBg = 'blue.jpg'\n\nexport default {\n    name: 'ControlBar',\n    props: [''],\n    data: function () {\n        return {\n            verseAddressInput: '',\n            backgrounds: { // TODO: Move these to Vuex store and apply defaulting logic there to avoid bugs\n                'Blue BG': defaultBg,\n                'Brown BG': 'brown.jpg',\n                'Orange': 'orange.jpg',\n                'White': 'white.jpg',\n                'Image URL': BG_CUSTOM_URL\n            },\n        }\n    },\n    created() {\n        EventBus.$on('focus-controlbar-input', this.focusInput);\n    },\n    beforeDestroy() {\n        EventBus.$off('focus-controlbar-input', this.focusInput);\n    },\n    mounted: function () {\n        this.showCustomUrlInput(this.selectedBg == BG_CUSTOM_URL)\n\n        if (this.selectedBg == BG_CUSTOM_URL && utils.isEmpty(this.bgImageCustomUrl)) {\n            this.selectedBg = defaultBg\n        }\n    },\n    computed: {\n        ...mapState(['verseDetails', 'verseAddress', 'versions', 'errorDisplay', 'isControlBarVisible']),\n        selectedBg: {\n            get() {\n                return this.$store.state.selectedBg\n            },\n            set(value) {\n                this.$store.dispatch('setSelectedBg', value)\n            }\n        },\n        bgImageCustomUrl: {\n            get() {\n                return this.$store.state.bgImageCustomUrl\n            },\n            set(value) {\n                this.$store.dispatch('setBgImageCustomUrl', value)\n            }\n        },\n        isAddTextBg: {\n            get() {\n                return this.$store.state.isAddTextBg\n            },\n            set(value) {\n                this.$store.dispatch('setIsAddTextBg', value)\n            }\n        },\n        controlVersion: {\n            get() {\n                return this.$store.state.controlVersion\n            },\n            set(value) {\n                this.$store.dispatch('controlVersionChanged', value)\n            }\n        },\n        isControlBarVisible: {\n            get() {\n                return this.$store.state.isControlBarVisible\n            },\n            set(value) {\n                this.$store.dispatch('updateIsControlBarVisible', value)\n            }\n        },\n    },\n    watch: {\n        controlVersion: function (newVal, oldVal) {\n            if (utils.isNotEmpty(oldVal)) {\n                this.$store.dispatch('versionChanged', { version: newVal })\n            }\n        },\n        selectedBg: function (newVal) {\n            this.showCustomUrlInput(newVal == BG_CUSTOM_URL)\n            if (utils.isEmpty(newVal)) {\n                this.selectedBg = defaultBg\n            }\n        },\n        errorDisplay: function (newVal) {\n            let display = document.getElementById(\"errorDisplay\")\n            if (utils.isNotEmpty(newVal)) {\n                display.style.backgroundColor = 'rgba(0, 0, 0, 0.8)'\n                display.style.borderRadius = '5px';\n                display.style.padding = '1px 8px';\n            } else {\n                display.style.backgroundColor = ''\n            }\n        },\n        isControlBarVisible: function (isVisible) {\n            var controls = document.getElementById('controls');\n            var toggleButton = document.getElementById('controlsToggle');\n            toggleButton.style.transition = \"transform 0.3s ease\";\n\n            if (isVisible) {\n                controls.classList.remove('controls-hidden');\n                toggleButton.style.transform = 'rotateY(0deg)';\n                toggleButton.style.color = 'rgba(255, 255, 255, 0.8)';\n            } else {\n                controls.classList.add('controls-hidden');\n                toggleButton.style.transform = 'rotateY(180deg)';\n                toggleButton.style.color = 'rgba(255, 255, 255, 0.5)';\n            }\n        }\n    },\n    methods: {\n        onClickGo() {\n            this.$store.dispatch('verseEntered', { verseInput: this.verseAddressInput, version: this.controlVersion })\n        },\n        onPasteVerseAddress(event) {\n            let pasted = event.clipboardData.getData('text')\n            if (pasted.match(BibleService.verseAddressRegex)) {\n                this.$store.dispatch('verseEntered', { verseInput: pasted, version: this.controlVersion })\n            }\n        },\n        increaseFontSize(isIncrease) {\n            this.$store.dispatch('increaseFontSize', isIncrease)\n        },\n        focusInput() {\n            let verseInput = this.$refs.verseInput\n            verseInput.focus()\n            verseInput.select()\n        },\n        showNextVerse(isNextVerse) {\n            this.$store.dispatch('showNextVerse', { isNextVerse: isNextVerse })\n        },\n        showCustomUrlInput(isShow) {\n            const bgImgCustomUrlInput = document.getElementById('bgImgCustomUrlInput')\n\n            if (isShow) {\n                bgImgCustomUrlInput.style.display = 'inline'\n            } else {\n                bgImgCustomUrlInput.style.display = 'none'\n            }\n        },\n    }\n}\n</script>\n\n\n<style>\n#controlBar {\n    padding: 10px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\n#controls {\n    transition: transform 0.3s ease;\n}\n\n.controls-hidden {\n    transform: translateY(150%);\n}\n\n#controlsToggle {\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    color: rgba(255, 255, 255, 0.7);\n    border-radius: 50%;\n    height: 33px;\n    width: 33px;\n    font-size: 30px;\n    rotate: 90deg;\n}\n\n.button {\n    background-color: #e7e7e7;\n    /* Gray */\n    color: black;\n    border: none;\n    padding: 5px 15px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 12px;\n    border-radius: 2px;\n    margin: 1px;\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    cursor: pointer;\n    user-select: none;\n    font-weight: bold;\n}\n\n\ninput {\n    margin: 1px;\n    display: inline-block;\n    font-size: 12px;\n    border-radius: 2px;\n    padding: 5px 15px;\n    font-weight: bold;\n}\n\n#verseInput {\n    width: 100px;\n}\n\n.selector {\n    display: inline-block;\n    font-size: 11px;\n    border-radius: 2px;\n    padding: 5px 5px;\n    font-weight: bold;\n    text-transform: uppercase;\n    background-color: rgb(226, 226, 226);\n}\n\n#translationInput {\n    width: 150px;\n}\n\n.button:hover {\n    background-color: #b4b4b4\n}\n\n.button:active {\n    background-color: #919191;\n}\n\n#bgImgCustomUrlInput {\n    width: 100px;\n}\n\n/* START Toggle */\n\n.toggle {\n    --width: 80px;\n    --height: calc(var(--width) / 3.3);\n\n    position: relative;\n    display: inline-block;\n    width: var(--width);\n    height: var(--height);\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3);\n    cursor: pointer;\n    margin-bottom: -8px;\n    font-weight: bold;\n    margin-left: 3px;\n}\n\n.toggle input {\n    display: none;\n}\n\n.toggle .labels {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    font-size: 12px;\n    font-family: sans-serif;\n    transition: all 0.4s ease-in-out;\n    overflow: hidden;\n}\n\n.toggle .labels::after {\n    content: attr(data-off);\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    color: #4d4d4d;\n    background-color: rgb(226, 226, 226);\n    transition: all 0.1s ease-in-out;\n}\n\n.toggle .labels::before {\n    content: attr(data-on);\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 0;\n    left: calc(var(--width) * -1);\n    height: 100%;\n    width: 100%;\n    color: #ffffff;\n    background-color: #585858;\n    text-align: center;\n    transition: all 0.1s ease-in-out;\n}\n\n.toggle input:checked~.labels::after {\n    transform: translateX(var(--width));\n}\n\n.toggle input:checked~.labels::before {\n    transform: translateX(var(--width));\n}\n\n#errorDisplay {\n    color: rgb(255, 65, 65);\n    margin-left: 10px;\n    font-weight: bold;\n}\n\n/* END Toggle */\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlBar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlBar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ControlBar.vue?vue&type=template&id=347a99d8\"\nimport script from \"./ControlBar.vue?vue&type=script&lang=js\"\nexport * from \"./ControlBar.vue?vue&type=script&lang=js\"\nimport style0 from \"./ControlBar.vue?vue&type=style&index=0&id=347a99d8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div id=\"baseDiv\" @contextmenu=\"rightClickHandler($event)\">\n      <CustomBackground />\n      <VerseDisplay @focus-controlbar-input=\"focusInput\" />\n      <ControlBar />\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport CustomBackground from '@/components/CustomBackground.vue'\nimport VerseDisplay from '@/components/VerseDisplay.vue'\nimport ControlBar from '@/components/ControlBar.vue'\n\nimport { EventBus } from '@/utils/eventBus.js';\n\nexport default {\n  name: 'App',\n  components: {\n    CustomBackground,\n    VerseDisplay,\n    ControlBar\n  },\n  mounted: function () {\n    const handleStorageEvent = () => {\n      const { dispatch } = this.$store;\n      dispatch('loadStateFromStorage');\n      dispatch('loadBgFromStorage');\n    }\n    this.$store.dispatch('loadBgFromStorage')\n\n    window.addEventListener('storage', handleStorageEvent);\n\n    this.$once('hook:beforeDestroy', () => {\n      window.removeEventListener('storage', handleStorageEvent);\n    })\n\n    // TODO: Load Params from URL for auto size, should affect url\n  },\n  methods: {\n    rightClickHandler: function (event) {\n      event.preventDefault()\n      this.focusInput()\n    },\n    focusInput() {\n      if (this.$store.getters.isControlBarVisible) {\n        EventBus.$emit('focus-controlbar-input')\n      } else {\n        EventBus.$emit('edit-verse-title')\n      }\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  /* background-image: url('assets/blue.jpg'); */\n\n  /* Full height */\n  height: 100%;\n\n  /* Center and scale the image nicely */\n  background-size: 100% 100%;\n\n  margin: 0px;\n}\n\n\n#baseDiv {\n  height: 100%;\n}\n\nbody,\nhtml {\n  height: 100%;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=23a3ed04\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=23a3ed04&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { utils } from '@/utils/utils.js'\n\n\nconst KEY_VERSE_ADDRESS = \"KEY_VERSE_ADDRESS\"\nconst KEY_VERSE_FONT_SIZE = \"KEY_VERSE_FONT_SIZE\"\nconst KEY_IS_ADD_TEXT_BG = \"KEY_IS_ADD_TEXT_BG\"\nconst KEY_BG_IMAGE = \"KEY_BG_IMAGE\"\nconst KEY_BG_IMAGE_CUSTOM_URL = \"KEY_BG_IMAGE_CUSTOM_URL\"\n\nexport const storageManager = {\n\n    saveVerseToLocalStorage: function (verseAddress) {\n        localStorage.setItem(KEY_VERSE_ADDRESS, JSON.stringify(verseAddress))\n    },\n    saveFontSizeToLocalStorage: function (fontSize) {\n        localStorage.setItem(KEY_VERSE_FONT_SIZE, fontSize)\n    },\n    saveTextBgToLocalStorage: function (isAddTextBg) {\n        localStorage.setItem(KEY_IS_ADD_TEXT_BG, isAddTextBg)\n    },\n    saveBgImageToLocalStorage: function (bgImage) {\n        localStorage.setItem(KEY_BG_IMAGE, bgImage)\n    },\n    saveBgImageCustomUrlToLocalStorage: function (bgCustomUrl) {\n        localStorage.setItem(KEY_BG_IMAGE_CUSTOM_URL, bgCustomUrl)\n    },\n    loadState: function () {\n        return {\n            'verseAddress': utils.parseJson(localStorage.getItem(KEY_VERSE_ADDRESS)),\n            'verseFontSize': parseFloat(localStorage.getItem(KEY_VERSE_FONT_SIZE)) || 0.0,\n            'isAddTextBg': localStorage.getItem(KEY_IS_ADD_TEXT_BG) == 'true',\n            'bgCustomImgUrl': localStorage.getItem(KEY_BG_IMAGE_CUSTOM_URL),\n            'selectedBg': localStorage.getItem(KEY_BG_IMAGE)\n        }\n    }\n\n}","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport BibleService from '@/services/BibleService.js'\nimport { storageManager } from '@/utils/storageManager.js'\n\n\n// Tell Vue to use Vuex\nVue.use(Vuex);\n\n\n// TODO: Break down into modules\nexport default new Vuex.Store({\n\n    state: {\n        verseDetails: {\n            'title': '',\n            'version': '',\n            'content': ''\n        },\n        verseAddress: {},\n        controlVersion: '',\n        verseFontSize: 0.0,\n        versions: [],\n        isAddTextBg: false,\n        selectedBg: '',\n        bgImageCustomUrl: null,\n        errorDisplay: '',\n        isControlBarVisible: true,\n        syncVerse: true,\n        syncVersion: true,\n    },\n    mutations: {\n        setVerseDetails(state, details) {\n            state.verseDetails = details\n        },\n        setVerseAddress(state, verseAddress) {\n            state.verseAddress = verseAddress\n        },\n        setVerseFontSize(state, size) {\n            state.verseFontSize = size\n        },\n        setVersions(state, versions) {\n            state.versions = versions\n        },\n        setControlVersion(state, controlVersion) {\n            state.controlVersion = controlVersion\n        },\n        setIsAddTextBg(state, isAddTextBg) {\n            state.isAddTextBg = isAddTextBg\n        },\n        setSelectedBg(state, selectedBg) {\n            state.selectedBg = selectedBg\n        },\n        setBgImageCustomUrl(state, bgImageCustomUrl) {\n            state.bgImageCustomUrl = bgImageCustomUrl\n        },\n        setErrorDisplay(state, errorDisplay) {\n            state.errorDisplay = errorDisplay\n        },\n        setSyncVerse(state, syncVerse) {\n            state.syncVerse = syncVerse\n        },\n        setSyncVersion(state, syncVersion) {\n            state.syncVersion = syncVersion\n        },\n        setIsControlBarVisible(state, isControlBarVisible) {\n            state.isControlBarVisible = isControlBarVisible\n        },\n    },\n    actions: {\n        initStore({ commit, dispatch }) {\n            BibleService.init().then(() => {\n                let versionList = BibleService.bible.versionList\n                commit('setVersions', versionList)\n\n                dispatch('loadStateFromStorage', true);\n            })\n\n        },\n        loadBibleVersions({ commit }) {\n            BibleService.init().then(() => {\n                commit('setVersions', BibleService.bible.versionList)\n            })\n        },\n        async verseEntered({ dispatch }, { verseInput, version }) {\n            try {\n                let verseAddress = await BibleService.parseVerseInput(verseInput, version)\n                dispatch('fetchVerseDetails', verseAddress)\n                dispatch('updateErrorDisplay', '') // clear error message\n            } catch (error) {\n                dispatch('updateErrorDisplay', error)\n            }\n        },\n        async verseEnteredNoVersion({ commit, getters, dispatch }, verseInput) {\n            let verseAddress = getters.verseAddress\n            commit('setSyncVerse', false)\n            dispatch('verseEntered', { verseInput: verseInput, version: verseAddress.version })\n        },\n        async versionChanged({ commit, dispatch }, { version, isSync = true }) {\n            commit('setSyncVerse', isSync)\n\n            let verseAddress = BibleService.getDiffVersionVerseAddress(version)\n            dispatch('fetchVerseDetails', verseAddress)\n        },\n        async controlVersionChanged({ commit, dispatch }, version) {\n            commit('setControlVersion', version)\n\n            let verseAddress = BibleService.getDiffVersionVerseAddress(version)\n            dispatch('fetchVerseDetails', verseAddress)\n        },\n        async showNextVerse({ commit, dispatch }, { isNextVerse, isSync = true }) {\n            commit('setSyncVerse', isSync)\n\n            let nextVerseAddress = await BibleService.getNextVerseAddress(isNextVerse)\n            dispatch('fetchVerseDetails', nextVerseAddress)\n        },\n        async fetchVerseDetails({ commit, dispatch, getters }, verseAddress) {\n            let verseDetails\n            try {\n                verseDetails = await BibleService.fetchVerse(verseAddress)\n\n                commit('setVerseAddress', verseAddress)\n                commit('setVerseDetails', verseDetails)\n                dispatch('updateErrorDisplay', '') // clear error message\n            } catch (error) {\n                dispatch('updateErrorDisplay', error.message)\n            }\n            if (getters.syncVerse) {\n                storageManager.saveVerseToLocalStorage(verseAddress)\n            }\n            commit('setSyncVerse', true)\n        },\n        increaseFontSize({ commit, getters }, isIncrease) {\n            let newFontSize = getters.verseFontSize + 0.2 * (isIncrease ? 1 : -1)\n\n            commit('setVerseFontSize', newFontSize)\n            storageManager.saveFontSizeToLocalStorage(newFontSize)\n        },\n        setIsAddTextBg({ commit }, isAddTextBg) {\n            storageManager.saveTextBgToLocalStorage(isAddTextBg)\n            commit('setIsAddTextBg', isAddTextBg)\n        },\n        setSelectedBg({ commit }, selectedBg) {\n            storageManager.saveBgImageToLocalStorage(selectedBg)\n            commit('setSelectedBg', selectedBg)\n        },\n        setBgImageCustomUrl({ commit }, bgImageCustomUrl) {\n            commit('setBgImageCustomUrl', bgImageCustomUrl)\n        },\n        saveBgImageCustomUrl(context, bgImageCustomUrl) {\n            storageManager.saveBgImageCustomUrlToLocalStorage(bgImageCustomUrl)\n        },\n        async loadStateFromStorage({ commit, dispatch }, isLoadFromInit = false) { // TODO: Merge with loadBgFromStorage\n            let savedState = storageManager.loadState()\n            let verseAddress = savedState.verseAddress\n\n            let isVerseAddressValid = await BibleService.isValidVerseAddress(savedState.verseAddress)\n\n            if (isVerseAddressValid) {\n                dispatch('fetchVerseDetails', verseAddress)\n                commit('setControlVersion', verseAddress.version)\n            } else {\n                // Default verse and version\n                dispatch('verseEntered', { verseInput: \"Gen 1:1\", version: this.getters.versions[0].key })\n                commit('setControlVersion', this.getters.versions[0].key)\n            }\n\n            if (isLoadFromInit) {\n                // Always use default font size on init\n                commit('setVerseFontSize', 0.0)\n                storageManager.saveFontSizeToLocalStorage(0.0)\n            } else {\n                commit('setVerseFontSize', parseFloat(savedState.verseFontSize))\n            }\n        },\n        loadBgFromStorage({ commit }) {\n            let savedState = storageManager.loadState()\n\n            commit('setIsAddTextBg', savedState.isAddTextBg)\n            commit('setSelectedBg', savedState.selectedBg)\n            commit('setBgImageCustomUrl', savedState.bgCustomImgUrl)\n        },\n        updateErrorDisplay({ commit }, errorMessage) {\n            commit('setErrorDisplay', errorMessage)\n        },\n        updateIsControlBarVisible({ commit }, value) {\n            commit('setIsControlBarVisible', value)\n        }\n    },\n    getters: {\n        verseDetails: state => state.verseDetails,\n        verseFontSize: state => state.verseFontSize,\n        versions: state => state.versions,\n        controlVersion: state => state.controlVersion,\n        verseAddress: state => state.verseAddress,\n        isAddTextBg: state => state.isAddTextBg,\n        selectedBg: state => state.selectedBg,\n        syncVerse: state => state.syncVerse,\n        syncVersion: state => state.syncVersion,\n        isControlBarVisible: state => state.isControlBarVisible,\n    },\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\n\nVue.config.productionTip = false\n\nfunction initStore() {\n  store.dispatch('initStore')\n}\n\nnew Vue({\n  store,\n  created() {\n    initStore()\n  },\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=23a3ed04&prod&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBackground.vue?vue&type=style&index=0&id=4da58926&prod&lang=css\""],"sourceRoot":""}